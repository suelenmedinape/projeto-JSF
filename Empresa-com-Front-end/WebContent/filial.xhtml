<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html">

<h:head>
	<link rel="StyleSheet" type="text/css" href="css/style.css" media="screen" />
	<link rel="StyleSheet" type="text/css" href="css/menu.css" media="screen" />
</h:head>
<body>

	<h:form>
		<div class="container-menu">
			<div class="header-menu">
				<div class="header-menu-icons">
					<h:commandLink action="relatorio?faces-redirect=true" 
					value="RelatÃ³rios" styleClass="a"/>
					<h:commandLink action="filial?faces-redirect=true" 
					value="Filial" styleClass="a"/>
					<h:commandLink action="funcionario?faces-redirect=true" 
					value="Funcionarios" styleClass="a"/>
				</div>
			</div>
		</div>
	</h:form>
	

	<br /><br />

	<div class="header">
		<h2> Cadastrar Filial </h2>
	</div>

	<h:form class="form-container">
		
		<div class="input-row">
			<h:inputText value="#{filialBean.filial.nome}" id="nome"
				required="true" styleClass="input input-nome">
				<f:passThroughAttribute name="placeholder" value="Nome da filial" />
			</h:inputText>
		</div>
		
		<div class="input-row">
			<h:inputText value="#{filialBean.filial.cnpj}" id="cnpj"
				required="true" styleClass="input">
				<f:validateLength minimum="14" maximum="14" />
				<f:passThroughAttribute name="placeholder" value="CNPJ da filial" />
			</h:inputText>
		</div>
		
		<div class="input-row">
			<h:inputText value="#{filialBean.filial.endereco.logradouro}"
				id="logradouro" required="true" styleClass="input spaced-input">
				<f:passThroughAttribute name="placeholder" value="Logradouro" />
			</h:inputText>
			<h:inputText value="#{filialBean.filial.endereco.numero}" id="numero"
				required="true" styleClass="input short-input spaced-input">
				<f:passThroughAttribute name="placeholder" value="NÃºmero" />
			</h:inputText>	
			<h:inputText value="#{filialBean.filial.endereco.bairro}" id="bairro"
				required="true" styleClass="input spaced-input">
				<f:passThroughAttribute name="placeholder" value="Bairro" />
			</h:inputText>
		</div>
		
		<div class="input-row">
			<h:inputText value="#{filialBean.filial.endereco.cidade}" id="cidade"
				required="true" styleClass="input spaced-input">
				<f:passThroughAttribute name="placeholder" value="Cidade" />
			</h:inputText>
			<h:inputText value="#{filialBean.filial.endereco.cep}" id="cep"
				required="true" styleClass="input short-input spaced-input">
				<f:validateLength minimum="8" maximum="8" />
				<f:passThroughAttribute name="placeholder" value="CEP" />
			</h:inputText>
		</div>

		<div class="button-row">
			<h:commandButton action="#{filialBean.gravar()}"
				value="Gravar Filial" rendered="#{!filialBean.edicao}" styleClass="custom-btn btn-2"/>
			<h:commandButton action="#{filialBean.atualizar()}"
				value="Atualizar Filial" rendered="#{filialBean.edicao}" styleClass="custom-btn btn-2"/>
		</div>
	</h:form>

	<h:messages />

	<br />
	<h:form>
		<h:panelGrid columns="3" class="form-container">
			<h:outputLabel value="Digite o nome:  " styleClass="labelPesq"/>
			<h:inputText value="#{filialBean.nomeFilial}" required="true" styleClass="inputPesq"/>
			<h:commandButton action="#{filialBean.verificaFiltro()}"
				value="Listar" styleClass="custom-btn-pesq btn-2"/>
		</h:panelGrid>

	</h:form>
	<br />

	<h:form>
    <div class="cards-container">
    <ui:repeat value="#{filialBean.filtrar()}" var="filAtual">
        <div class="card">
            
            <div class="header">
                <div class="content">
                    <h:outputText styleClass="title titleNome" value="#{filAtual.nome}"/>
                    <br />
                    <h:outputText styleClass="title" value="#{filialBean.formatarCNPJ(filAtual.cnpj)} "/>
                    <br />
                    <h:outputText styleClass="message" value="#{filAtual.endereco.numero} "/>
                    
                    <h:outputText styleClass="message" value="#{filAtual.endereco.logradouro} "/>
                    
                    <h:outputText styleClass="message" value="#{filAtual.endereco.bairro}"/>
                    <br />
                    <h:outputText styleClass="message" value="#{filAtual.endereco.cidade}"/>
                </div>
                <div class="actions">
                    <h:commandButton action="#{filialBean.carregarFilial(filAtual)}"
                                     value="Editar" styleClass="custom-btn btn-2"/>
                                     <br /><br />
                    <h:commandButton action="#{filialBean.deletar(filAtual)}"
                                     value="Excluir" styleClass="custom-btn btn-2"/>
                </div>
            </div>
        </div>
    </ui:repeat>
</div>
    
</h:form>




</body>
</html>