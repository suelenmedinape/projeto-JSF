<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"> 

<h:head>
	<link rel="StyleSheet" type="text/css" href="css/menu.css" media="screen" />
	<link rel="StyleSheet" type="text/css" href="css/estilo.css" media="screen" />
</h:head> 
<body>

	<h:form>
		<div class="container-menu">
			<div class="header-menu">
				<div class="header-menu-icons">
					<h:commandLink action="relatorio?faces-redirect=true" 
					value="Relatórios" styleClass="a"/>
					<h:commandLink action="filial?faces-redirect=true" 
					value="Filial" styleClass="a"/>
					<h:commandLink action="funcionario?faces-redirect=true" 
					value="Funcionarios" styleClass="a"/>
				</div>
			</div>
		</div>
	</h:form>
	

	<br /><br />

	<div class="header">
		<h2> Cadastrar Funcionario </h2>
	</div>
	
	<h:form class="form-container">
			<div class="input-row">
				<h:inputText value="#{funcionarioBean.funcionario.nome}" id="nome"
					required="true" styleClass="input input-nome">
					<f:passThroughAttribute name="placeholder" value="Nome do Funcionario" />
				</h:inputText>
			</div>
			
			<div class="input-row">
				<h:inputText value="#{funcionarioBean.funcionario.idade}" id="idade"
					required="true" styleClass="input spaced-input">
					<f:validateLength minimum="14" maximum="14" />
					<f:passThroughAttribute name="placeholder" value="Idade" />
				</h:inputText>
			
				<h:inputText value="#{funcionarioBean.funcionario.cpf}" id="cpf"
					required="true" styleClass="input spaced-input">
					<f:validateLength minimum="11" maximum="11" />
					<f:passThroughAttribute name="placeholder" value="CPF" />
				</h:inputText>
				<h:inputText value="#{funcionarioBean.funcionario.salario}" id="salario"
					required="true" styleClass="input spaced-input">
					<f:passThroughAttribute name="placeholder" value="Salario" />
				</h:inputText>
			</div>
			
			<div class="input-row">
			
				<h:inputText value="#{funcionarioBean.funcionario.endereco.logradouro}"
					id="logradouro" required="true" styleClass="input spaced-input">
					<f:passThroughAttribute name="placeholder" value="Logradouro" />
				</h:inputText>
				<h:inputText value="#{funcionarioBean.funcionario.endereco.numero}" id="numero"
					required="true" styleClass="input short-input spaced-input">
					<f:passThroughAttribute name="placeholder" value="Número" />
				</h:inputText>	
				<h:inputText value="#{funcionarioBean.funcionario.endereco.bairro}" id="bairro"
					required="true" styleClass="input spaced-input">
					<f:passThroughAttribute name="placeholder" value="Bairro" />
				</h:inputText>
			
			</div>
			
			<div class="input-row">
				<h:inputText value="#{funcionarioBean.funcionario.endereco.cidade}" id="cidade"
					required="true" styleClass="input spaced-input">
					<f:passThroughAttribute name="placeholder" value="Cidade" />
				</h:inputText>
				<h:inputText value="#{funcionarioBean.funcionario.endereco.cep}" id="cep"
					required="true" styleClass="input short-input spaced-input">
					<f:validateLength minimum="8" maximum="8" />
					<f:passThroughAttribute name="placeholder" value="CEP" />
				</h:inputText>
			</div>
			
			<h:panelGrid columns="2">
				<h:outputLabel value="Filial: " for="filial"/>
				<h:selectOneMenu styleClass="custom-btn-select btn-2" value="#{funcionarioBean.idFilial}">			
					<f:selectItems value="#{funcionarioBean.filiais}" var="filAtual"
							itemLabel="#{filAtual.nome}" itemValue="#{filAtual.id}" />			
				</h:selectOneMenu>
			</h:panelGrid>
			
			
			<br/>
			
			<div class="button-row">
				<h:commandButton action="#{funcionarioBean.gravar()}"
					value="Gravar Filial" rendered="#{!funcionarioBean.edicao}" styleClass="custom-btn btn-2"/>
				<h:commandButton action="#{funcionarioBean.atualizar()}"
					value="Atualizar Filial" rendered="#{funcionarioBean.edicao}" styleClass="custom-btn btn-2"/>
			</div>
			
	</h:form>
	
	<h:messages />

	<br />
		<h:form>
			<h:panelGrid columns="3" class="form-container">
				<h:outputLabel value="Digite o nome:  " styleClass="labelPesq"/>
				<h:inputText value="#{funcionarioBean.nomeCidade}" required="true" styleClass="inputPesq"/>
				<h:commandButton action="#{funcionarioBean.verificarFiltro()}"
					value="Listar" styleClass="custom-btn-pesq btn-2"/>
			</h:panelGrid>
	
		</h:form>
	<br />
	
	<h:form>
	    <div class="cards-container">
		    <ui:repeat value="#{funcionarioBean.filtrar()}" var="funAtual">
		        <div class="card">
		            
		            <div class="header">
		                <div class="content">
		                	<h:outputText styleClass="title titleNome" value="#{funAtual.nome}"/>
		                    <br />
		                    <h:outputText styleClass="message" value="#{funcionarioBean.formatarCPF(funAtual.cpf)} "/>
		                    
		                    <h:outputText styleClass="title" value=" Idade: #{funAtual.idade} "/>
		                    <br />
		                    <h:outputText value="#{funAtual.salario}" >
								<f:convertNumber type="currency" currencyCode="BRL" locale="pt_BR" />
							</h:outputText>
							<br />
							<h:outputText styleClass="message" value="#{funAtual.endereco.numero} "/>
                    
		                    <h:outputText styleClass="message" value="#{funAtual.endereco.logradouro} "/>
		                    
		                    <h:outputText styleClass="message" value="#{funAtual.endereco.bairro}"/>
		                    <br />
		                    <h:outputText styleClass="message" value="#{funAtual.endereco.cidade} "/>
		                    <h:outputText styleClass="message" value=" #{funcionarioBean.formatarCEP(funAtual.endereco.cep)}" />
		                    <br />	
		                	<h:outputText styleClass="message" value="#{funAtual.filial.nome}" />
		                </div>
		                <div class="actions">
		                	<h:commandButton action="#{filialBean.carregarFilial(filAtual)}"
                                     value="Editar" styleClass="custom-btn btn-2"/>
                                     <br /><br />
		                    <h:commandButton action="#{filialBean.deletar(filAtual)}"
		                                     value="Excluir" styleClass="custom-btn btn-2"/>
		                </div>
		            </div>
		        </div>
		    </ui:repeat>
		</div>
		</h:form>
</body> 
</html>